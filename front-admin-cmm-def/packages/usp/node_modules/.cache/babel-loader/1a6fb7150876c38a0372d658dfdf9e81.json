{"ast":null,"code":"var _jsxFileName = \"/Users/choi/react-workspace/front-admin-cmm-def/packages/shared/src/utils/RouteUtiles.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { Suspense, useEffect } from \"react\";\nimport { useRouteStore } from \"../Store/RouteConfig\";\nimport { useNavigate } from \"react-router-dom\";\nimport { LinearProgress } from \"@mui/material\";\nimport { jsx as ___EmotionJSX } from \"@emotion/react\";\nexport function middleware(route, type) {\n  const middleware = [...(route.middleware || []), ...type];\n  return Object.assign(route, {\n    middleware\n  });\n}\nexport function Loader(_ref) {\n  _s();\n\n  let {\n    route\n  } = _ref;\n  const config = useRouteStore();\n  const navi = useNavigate();\n  const View = route.element;\n  useEffect(() => {\n    config.setLayout(route.layout);\n    config.setMiddleware(route.middleware || []);\n  }, [navi]);\n  return ___EmotionJSX(Suspense, {\n    fallback: ___EmotionJSX(LinearProgress, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 19\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }\n  }, ___EmotionJSX(View, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 9\n    }\n  }));\n}\n\n_s(Loader, \"P/AgBLYPx4KXdIjBRToSanf0rw8=\", false, function () {\n  return [useRouteStore, useNavigate];\n});\n\n_c = Loader;\n\nvar _c;\n\n$RefreshReg$(_c, \"Loader\");","map":{"version":3,"names":["React","Suspense","useEffect","useRouteStore","useNavigate","LinearProgress","middleware","route","type","Object","assign","Loader","config","navi","View","element","setLayout","layout","setMiddleware"],"sources":["/Users/choi/react-workspace/front-admin-cmm-def/packages/shared/src/utils/RouteUtiles.tsx"],"sourcesContent":["import React, {Suspense, useEffect} from \"react\";\nimport Layout, {LayoutType} from \"../layout\";\nimport {useRouteStore} from \"../Store/RouteConfig\";\nimport {useNavigate} from \"react-router-dom\";\nimport {LinearProgress} from \"@mui/material\";\n\nexport type RouteType = {\n  label?: string;\n  menuId?: any;\n  layout?: LayoutType;\n  element?: any;\n  path?: string;\n  index?: boolean;\n  middleware?: string[];\n  children?: RouteType[];\n};\n\nexport interface RouteData {\n  systemId: string\n  menuId: string\n  menuNm: string\n  url: string\n  newWindow: boolean\n  parentMenuId: string\n  sortOrder: number\n  creatorId: string\n  createdDt: number\n  updaterId: string\n  updatedDt: number\n  path: string\n  label: string\n  children?: RouteData[]\n}\n\nexport type MiddlewareType = 'auth' | 'factor';\n\nexport function middleware(route: RouteType, type: MiddlewareType[]) {\n  const middleware = [...(route.middleware || []), ...type];\n  return Object.assign(route, {middleware});\n}\n\nexport function Loader({route}: any) {\n  const config = useRouteStore()\n  const navi = useNavigate()\n  const View = route.element;\n\n  useEffect(() => {\n    config.setLayout(route.layout)\n    config.setMiddleware(route.middleware || [])\n  }, [navi])\n\n  return (\n      <Suspense\n        fallback={<LinearProgress />}\n      >\n        <View/>\n      </Suspense>\n  );\n}"],"mappings":";;;AAAA,OAAOA,KAAP,IAAeC,QAAf,EAAyBC,SAAzB,QAAyC,OAAzC;AAEA,SAAQC,aAAR,QAA4B,sBAA5B;AACA,SAAQC,WAAR,QAA0B,kBAA1B;AACA,SAAQC,cAAR,QAA6B,eAA7B;;AAgCA,OAAO,SAASC,UAAT,CAAoBC,KAApB,EAAsCC,IAAtC,EAA8D;EACnE,MAAMF,UAAU,GAAG,CAAC,IAAIC,KAAK,CAACD,UAAN,IAAoB,EAAxB,CAAD,EAA8B,GAAGE,IAAjC,CAAnB;EACA,OAAOC,MAAM,CAACC,MAAP,CAAcH,KAAd,EAAqB;IAACD;EAAD,CAArB,CAAP;AACD;AAED,OAAO,SAASK,MAAT,OAA8B;EAAA;;EAAA,IAAd;IAACJ;EAAD,CAAc;EACnC,MAAMK,MAAM,GAAGT,aAAa,EAA5B;EACA,MAAMU,IAAI,GAAGT,WAAW,EAAxB;EACA,MAAMU,IAAI,GAAGP,KAAK,CAACQ,OAAnB;EAEAb,SAAS,CAAC,MAAM;IACdU,MAAM,CAACI,SAAP,CAAiBT,KAAK,CAACU,MAAvB;IACAL,MAAM,CAACM,aAAP,CAAqBX,KAAK,CAACD,UAAN,IAAoB,EAAzC;EACD,CAHQ,EAGN,CAACO,IAAD,CAHM,CAAT;EAKA,OACI,cAAC,QAAD;IACE,QAAQ,EAAE,cAAC,cAAD;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,EADZ;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GAGE,cAAC,IAAD;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EAHF,CADJ;AAOD;;GAjBeF,M;UACCR,a,EACFC,W;;;KAFCO,M"},"metadata":{},"sourceType":"module"}